<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chase Marshall</title>
  <style>
    /* Embedded font imports to avoid CORS issues */
    @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap');

    :root {
      --bg: #0f0f0f;
      --text: #e4e4e4;
      --text-dim: #a1a1a1;
      --accent: #6366f1;
      --border: #262626;
      --hover: #1a1a1a;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      line-height:1.6;
      overflow-x:hidden;
    }
    .container { max-width:800px; margin:0 auto; padding:2rem; min-height:100vh; }
    header { margin-bottom:4rem; padding:2rem 0; }
    h1 {
      font-family:'JetBrains Mono', monospace;
      font-size:2.5rem;
      font-weight:300;
      background:linear-gradient(135deg,var(--text),var(--accent));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    .subtitle { color:var(--text-dim); font-size:1.1rem; font-weight:300; }

    /* Tabs Nav */
    nav ul { list-style:none; display:flex; gap:2rem; font-family:'JetBrains Mono', monospace; }
    nav a { color:var(--text-dim); text-decoration:none; font-size:0.9rem; transition:color 0.3s; cursor:pointer; }
    nav a.active, nav a:hover { color:var(--accent); }

    /* Sections & animation */
    .section { display:none; opacity:0; transform:translateY(20px); }
    .section.active { display:block; animation:fadeInUp 0.6s ease forwards; }
    @keyframes fadeInUp { to{ opacity:1; transform:translateY(0);} }

    /* Floating Music Indicator */
    .floating-music {
      position:fixed; bottom:2rem; right:2rem;
      background:rgba(20,20,20,0.9); backdrop-filter:blur(10px);
      border:1px solid var(--border); border-radius:12px;
      padding:1rem 1.5rem; display:flex; align-items:center; gap:1rem;
      cursor:pointer; transition:0.3s; z-index:100;
    }
    .floating-music:hover { transform:translateY(-2px); }
    .music-icon { width:24px; height:24px; position:relative; }
    .bar { position:absolute; bottom:0; width:3px; background:var(--accent); animation:soundWave 0.8s ease-in-out infinite; }
    .bar:nth-child(1){left:0;} .bar:nth-child(2){left:6px;animation-delay:0.2s;} .bar:nth-child(3){left:12px;animation-delay:0.4s;} .bar:nth-child(4){left:18px;animation-delay:0.6s;}
    @keyframes soundWave{0%,100%{height:8px;}50%{height:20px;}}
    .floating-text{font-family:'JetBrains Mono',monospace;font-size:0.85rem;}

    /* Music Player */
    .music-player { background:var(--hover); border:1px solid var(--border); border-radius:12px; padding:2rem; margin-bottom:2rem; }
    .player-controls { display:flex; align-items:center; gap:1.5rem; margin-bottom:1rem; }
    .album-art, .album-art-placeholder { width:80px; height:80px; border-radius:8px; flex-shrink:0; display:flex; align-items:center; justify-content:center; background:var(--border); color:var(--text-dim); font-size:2rem; }
    .album-art { object-fit:cover; }
    .play-btn { background:linear-gradient(135deg,var(--accent),#4f46e5); border:none; border-radius:50%; width:60px; height:60px; display:flex; align-items:center; justify-content:center; cursor:pointer; color:white; font-size:1.4rem; transition:0.3s; }
    .play-btn:hover{transform:scale(1.05);}   
    .track-info{flex:1;}
    .track-name{font-family:'JetBrains Mono',monospace;font-size:1rem;margin-bottom:0.25rem;}
    .track-artist{font-size:0.85rem;color:var(--text-dim);}
    .track-navigation{display:flex;gap:0.5rem;}
    .nav-btn{width:40px;height:40px;border:1px solid var(--border);border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:0.3s;}
    .nav-btn:hover{background:var(--accent);color:white;}

    /* Responsive */
    @media(max-width:600px){ .container{padding:1rem;} nav ul{flex-direction:column;} .player-controls{flex-direction:column;align-items:flex-start;} .floating-music{bottom:1rem;right:1rem;} }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>chase</h1>
      <p class="subtitle">developer â€¢ creator â€¢ human</p>
      <nav>
        <ul>
          <li><a href="#about" class="nav-link active" onclick="showSection('about',event)">about</a></li>
          <li><a href="#music" class="nav-link" onclick="showSection('music',event)">music</a></li>
          <li><a href="#work" class="nav-link" onclick="showSection('work',event)">work</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section id="about" class="section active">
        <h2>$ whoami</h2>
        <p>hey there! i'm a developer who loves building things that matter. currently focused on creating elegant solutions to complex problems.</p>
        <p>when i'm not coding, you'll find me exploring new music, diving into design systems, or probably overthinking the perfect font pairing.</p>
      </section>

      <section id="music" class="section">
        <h2>$ now_playing</h2>
        <div class="music-player">
          <div class="player-controls">
            <div id="albumArtContainer" class="album-art-placeholder">ðŸŽµ</div>
            <button class="play-btn" id="playBtn" onclick="togglePlay()">â–¶</button>
            <div class="track-info">
              <div id="trackName" class="track-name">loadingâ€¦</div>
              <div id="trackArtist" class="track-artist">please wait</div>
            </div>
            <div class="track-navigation">
              <button class="nav-btn" onclick="previousTrack()">â—€</button>
              <button class="nav-btn" onclick="nextTrack()">â–¶</button>
            </div>
          </div>
          <audio id="audioPlayer" preload="metadata"></audio>
        </div>
      </section>

      <section id="work" class="section">
        <h2>$ ls projects/</h2>
        <div class="project" onclick="openProject('project1')">
          <h3>minimal-ui-kit</h3>
          <p class="project-desc">A collection of clean React components in TypeScript & Tailwind.</p>
        </div>
        <div class="project" onclick="openProject('project2')">
          <h3>dotfiles</h3>
          <p class="project-desc">My development environment configs: zsh, vim, tmux, alacritty.</p>
        </div>
        <div class="project" onclick="openProject('project3')">
          <h3>markdown-blog-engine</h3>
          <p class="project-desc">Static site generator turning markdown into fast blog posts.</p>
        </div>
        <div class="project" onclick="openProject('project4')">
          <h3>color-palette-generator</h3>
          <p class="project-desc">Generate WCAG-compliant color palettes.</p>
        </div>
      </section>
    </main>
  </div>

  <div class="floating-music" onclick="showSection('music',event)">
    <div class="music-icon">
      <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
    </div>
    <div id="floatingText" class="floating-text">loadingâ€¦</div>
  </div>

  <!-- jsmediatags for reading album art from metadata -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.5/jsmediatags.min.js"></script>
  <script>
    // Playlist contains file paths; metadata used for album art
    const playlist = [
      { src:'music/Duvet - Acoustic - bÃ´a.mp3', name:'Duvet', artist:'bÃ´a' },
      { src:'music/Evil Side - The Dirty Nil.mp3',       name:'Evil Side',      artist:'The Dirty Nil },
      { src:'music/I Just Want You - The Helltones.mp3',      name:'I Just Want You',     artist:'The Helltones' }
    ];
    let idx=0, isPlaying=false;
    const audio = document.getElementById('audioPlayer');
    const playBtn = document.getElementById('playBtn');

    function showSection(id,e){
      e&&e.preventDefault();
      document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelectorAll('nav a').forEach(a=>a.classList.toggle('active', a.getAttribute('href')==='#'+id));
    }

    function loadTrack(i){
      const t = playlist[i];
      audio.src = t.src;
      document.getElementById('trackName').textContent   = t.name;
      document.getElementById('trackArtist').textContent = t.artist;
      document.getElementById('floatingText').textContent= 'â™ª '+t.name;
      // read album art from metadata
      const artC = document.getElementById('albumArtContainer'); artC.innerHTML=''; artC.className='album-art-placeholder';
      jsmediatags.read(t.src, {
        onSuccess: ({tags}) => {
          if(tags.picture){
            const {data, format} = tags.picture;
            let byteArray = new Uint8Array(data);
            let blob = new Blob([byteArray], {type:format});
            let url  = URL.createObjectURL(blob);
            artC.className = 'album-art';
            artC.innerHTML = `<img src='${url}' alt='Album Art' class='album-art' />`;
          }
        }, onError: err=>{
          artC.textContent = 'ðŸŽµ';
        }
      });
    }

    async function togglePlay(){
      if(isPlaying){ audio.pause(); playBtn.textContent='â–¶'; }
      else{ await audio.play(); playBtn.textContent='â¸'; }
      isPlaying = !isPlaying;
    }
    function nextTrack(){ idx=(idx+1)%playlist.length; loadTrack(idx); if(isPlaying) audio.play(); }
    function previousTrack(){ idx=(idx-1+playlist.length)%playlist.length; loadTrack(idx); if(isPlaying) audio.play(); }
    function openProject(id){
      const urls = {
        project1:'https://github.com/chasemarshall/minimal-ui-kit',
        project2:'https://github.com/chasemarshall/dotfiles',
        project3:'https://github.com/chasemarshall/markdown-blog-engine',
        project4:'https://github.com/chasemarshall/color-palette-generator'
      };
      window.open(urls[id], '_blank');
    }

    document.addEventListener('DOMContentLoaded', ()=>{
      loadTrack(idx);
      // typewriter effect for <h1>
      const h1 = document.querySelector('h1');
      const txt = h1.textContent;
      h1.textContent='';
      txt.split('').forEach((c,i)=> setTimeout(()=> h1.textContent+=c, 100*i));
    });
  </script>
</body>
</html>
