<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chase Marshall</title>
    <style>
        /* ... [your existing CSS, unchanged] ... */
        /* All CSS from your previous file goes here. */
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>chase</h1>
            <p class="subtitle">developer â€¢ creator â€¢ human</p>
            <nav>
                <ul>
                    <li><a href="#about" onclick="showSection('about', event)" class="nav-link active">about</a></li>
                    <li><a href="#music" onclick="showSection('music', event)" class="nav-link">music</a></li>
                    <li><a href="#work" onclick="showSection('work', event)" class="nav-link">work</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <!-- About Section -->
            <section id="about" class="section active">
                <h2>$ whoami</h2>
                <p>
                    hey there! i'm a developer who loves building things that matter. 
                    currently focused on creating elegant solutions to complex problems.
                </p>
                <p>
                    when i'm not coding, you'll find me exploring new music, diving into 
                    design systems, or probably overthinking the perfect font pairing 
                    (spoiler: it's usually jetbrains mono).
                </p>
                <p>
                    i believe in clean code, minimalist design, and the power of 
                    good typography to make everything better.
                </p>
            </section>

            <!-- Music Section -->
            <section id="music" class="section">
                <h2>$ now_playing</h2>
                <div class="music-player">
                    <div class="player-controls">
                        <div id="albumArtContainer" class="album-art-placeholder">ðŸŽµ</div>
                        <button class="play-btn" onclick="togglePlay()" id="playBtn">â–¶</button>
                        <div class="track-info">
                            <div class="track-name" id="trackName">loading playlist...</div>
                            <div class="track-artist" id="trackArtist">chase's favorites</div>
                        </div>
                        <div class="track-navigation">
                            <button class="nav-btn" onclick="previousTrack()">â—€</button>
                            <button class="nav-btn" onclick="nextTrack()">â–¶</button>
                        </div>
                    </div>
                    <div class="progress-container">
                        <span id="currentTime">0:00</span>
                        <div class="progress-bar" onclick="seekTo(event)">
                            <div class="progress" id="progress"></div>
                        </div>
                        <span id="duration">0:00</span>
                    </div>
                </div>
                <audio id="audioPlayer" preload="metadata"></audio>
                <p id="musicDescription">
                    my favorite tracks - click play or use arrows to explore
                </p>
            </section>

            <!-- Work Section -->
            <section id="work" class="section">
                <h2>$ ls projects/</h2>
                <div class="project" onclick="openProject('project1')">
                    <h3>minimal-ui-kit</h3>
                    <p class="project-desc">
                        A collection of clean, accessible React components built with TypeScript and Tailwind.
                    </p>
                    <p class="project-tech">react â€¢ typescript â€¢ tailwind â€¢ storybook</p>
                </div>
                <div class="project" onclick="openProject('project2')">
                    <h3>dotfiles</h3>
                    <p class="project-desc">
                        My carefully curated development environment setup. Terminal, vim, and workflow configs.
                    </p>
                    <p class="project-tech">zsh â€¢ neovim â€¢ tmux â€¢ alacritty</p>
                </div>
                <div class="project" onclick="openProject('project3')">
                    <h3>markdown-blog-engine</h3>
                    <p class="project-desc">
                        Static site generator that transforms markdown into beautiful, fast-loading blog posts.
                    </p>
                    <p class="project-tech">node.js â€¢ markdown â€¢ sass â€¢ github-actions</p>
                </div>
                <div class="project" onclick="openProject('project4')">
                    <h3>color-palette-generator</h3>
                    <p class="project-desc">
                        Generate accessible color schemes for your next project with a11y compliance built-in.
                    </p>
                    <p class="project-tech">javascript â€¢ canvas â€¢ wcag â€¢ pwa</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Floating Music Indicator -->
    <div class="floating-music" onclick="showSection('music', event)" id="floatingMusic">
        <div class="music-icon">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
        <div class="floating-text" id="floatingText">loading...</div>
    </div>

    <script>
        // Navigation
        function showSection(sectionName, event) {
            if (event) event.preventDefault();
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            document.getElementById(sectionName).classList.add('active');
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + sectionName) {
                    link.classList.add('active');
                }
            });
        }

        // Local music player logic
        let playlist = [];
        let currentTrack = 0;
        let isPlaying = false;
        let audioPlayer = document.getElementById('audioPlayer');

        async function loadPlaylist() {
            try {
                const response = await fetch('music/playlist.json');
                playlist = await response.json();
                showTrack(currentTrack);
            } catch (error) {
                document.getElementById('trackName').textContent = 'playlist error';
                document.getElementById('trackArtist').textContent = '';
            }
        }

        function showTrack(index) {
            if (!playlist.length) return;
            const track = playlist[index];
            document.getElementById('trackName').textContent = track.name;
            document.getElementById('trackArtist').textContent = track.artist;
            document.getElementById('albumArtContainer').innerHTML = track.albumArt
                ? `<img src="${track.albumArt}" class="album-art" alt="Album Art">`
                : 'ðŸŽµ';
            audioPlayer.src = track.file;
            audioPlayer.load();
            document.getElementById('playBtn').textContent = 'â–¶';
            isPlaying = false;
            document.getElementById('duration').textContent = '0:00';
            document.getElementById('currentTime').textContent = '0:00';
            document.getElementById('progress').style.width = '0%';
            document.getElementById('floatingText').textContent = `â™ª ${track.name}`;
        }

        function nextTrack() {
            currentTrack = (currentTrack + 1) % playlist.length;
            showTrack(currentTrack);
            if (isPlaying) audioPlayer.play();
        }

        function previousTrack() {
            currentTrack = (currentTrack - 1 + playlist.length) % playlist.length;
            showTrack(currentTrack);
            if (isPlaying) audioPlayer.play();
        }

        function formatTime(seconds) {
            seconds = Math.floor(seconds);
            const min = Math.floor(seconds / 60);
            const sec = seconds % 60;
            return min + ':' + (sec < 10 ? '0' : '') + sec;
        }

        function togglePlay() {
            if (!audioPlayer.src) return;
            if (isPlaying) {
                audioPlayer.pause();
                document.getElementById('playBtn').textContent = 'â–¶';
            } else {
                audioPlayer.play();
                document.getElementById('playBtn').textContent = 'â¸';
            }
            isPlaying = !isPlaying;
        }

        function startProgressAnimation() {
            function updateProgress() {
                if (!isPlaying || audioPlayer.paused) return;
                const currentTime = audioPlayer.currentTime;
                const duration = audioPlayer.duration;
                if (duration && !isNaN(duration)) {
                    const progressPercent = (currentTime / duration) * 100;
                    document.getElementById('progress').style.width = progressPercent + '%';
                    document.getElementById('currentTime').textContent = formatTime(currentTime);
                    document.getElementById('duration').textContent = formatTime(duration);
                }
                requestAnimationFrame(updateProgress);
            }
            requestAnimationFrame(updateProgress);
        }

        function seekTo(event) {
            if (!audioPlayer.src || !audioPlayer.duration) return;
            const progressBar = event.currentTarget;
            const clickX = event.offsetX;
            const width = progressBar.offsetWidth;
            const percentage = clickX / width;
            audioPlayer.currentTime = percentage * audioPlayer.duration;
        }

        audioPlayer.addEventListener('play', startProgressAnimation);
        audioPlayer.addEventListener('ended', function() {
            nextTrack();
        });

        // Project links
        function openProject(projectId) {
            const projectUrls = {
                'project1': 'https://github.com/chasemarshall/minimal-ui-kit',
                'project2': 'https://github.com/chasemarshall/dotfiles',
                'project3': 'https://github.com/chasemarshall/markdown-blog-engine',
                'project4': 'https://github.com/chasemarshall/color-palette-generator'
            };
            window.open(projectUrls[projectId], '_blank');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadPlaylist();
            // Simulate typing effect for the title
            const title = document.querySelector('h1');
            const originalText = title.textContent;
            title.textContent = '';
            let i = 0;
            const typeWriter = setInterval(() => {
                if (i < originalText.length) {
                    title.textContent += originalText.charAt(i);
                    i++;
                } else {
                    clearInterval(typeWriter);
                }
            }, 100);
        });
    </script>
</body>
</html>
